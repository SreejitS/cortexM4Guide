/**
  ******************************************************************************
  * @file    main.c
  * @author  Auto-generated by STM32CubeIDE
  * @version V1.0
  * @brief   Default main function.
  ******************************************************************************
*/

#if !defined(__SOFT_FP__) && defined(__ARM_FP)
  #warning "FPU is not initialized, but the project is compiling for an FPU. Please initialize the FPU before use."
#endif

#include <stdio.h>

void task_handler1(void);
void task_handler2(void);
void task_handler3(void);
void task_handler4(void);

//stack memory defines
/*
 *	SRAM :-
 *
 * -----------------------------------------------------------------------
 * |							|  SCED	 |	T4	 |	T3	 |	T2	 |	T1	 |
 * |							| stack	 | stack | stack | stack | stack |
 * |							|  1KB	 |	1KB	 |	1KB	 |	1KB	 |	1KB	 |
 * |							|		 |		 |		 |		 |		 |
 * -----------------------------------------------------------------------
 * 0x20000000															0x20018000 (96KB of SRAM)
 *
 *
 * */

#define SIZE_TASK_STACK 		1024U
#define SIZE_SCHEDULER_STACK	1024U

#define SRAM_START				0x20000000U
#define SRAM_SIZE				( (96) * (1024))
#define SRAM_END				( (SRAM_START) + (SRAM_SIZE) )

#define T1_STACK_START			(SRAM_END)
#define T2_STACK_START			( (SRAM_END) - (1 * SIZE_TASK_STACK) )
#define T3_STACK_START			( (SRAM_END) - (2 * SIZE_TASK_STACK) )
#define T4_STACK_START			( (SRAM_END) - (3 * SIZE_TASK_STACK) )
#define SCHED_STACK_START		( (SRAM_END) - (4 * SIZE_TASK_STACK) )


int main(void)
{
	for(;;);
}

void task_handler1(void) {
	while(1) {
		printf("Hola from TASK 1\n");
	}
}

void task_handler2(void) {
	while(1) {
			printf("Hola from TASK 2\n");
		}
}

void task_handler3(void) {
	while(1) {
			printf("Hola from TASK 3\n");
		}
}

void task_handler4(void) {
	while(1) {
			printf("Hola from TASK 4\n");
		}
}
